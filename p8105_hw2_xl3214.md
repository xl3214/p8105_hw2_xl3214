p8105_hw2_xl3214
================
Xuan Lu
2023-10-02

## Question 0

``` r
library(tidyverse)
library(dplyr)
```

## Question 1

**STEP 1: Clean dataset pols-month.csv**

Directions: Use `separate()` to break up the variable mon into integer
variables `year`, `month`, and `day`; replace month number with month
name; create a `president` variable taking values `gop` and `dem`, and
remove `prez_dem` and `prez_gop`; and remove the `day` variable.

``` r
cols_dont_want <- c("day", "month_num", "prez_gop", "prez_dem")

pols_month <- read_csv("./fivethirtyeight_datasets/pols-month.csv") %>% 
  separate(mon, 
         into = c("year","month_num","day"), 
         convert = TRUE) %>% 
  mutate("month" = month.name[month_num]) %>%
  mutate(president = recode(prez_gop, "0" = "dem", "1" = "gop", "2" = "gop"))

pols_month <- pols_month[,!names(pols_month) %in% cols_dont_want, drop = F]
pols_month
## # A tibble: 822 × 9
##     year gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem month     president
##    <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <chr>    
##  1  1947      23      51     253      23      45     198 January   dem      
##  2  1947      23      51     253      23      45     198 February  dem      
##  3  1947      23      51     253      23      45     198 March     dem      
##  4  1947      23      51     253      23      45     198 April     dem      
##  5  1947      23      51     253      23      45     198 May       dem      
##  6  1947      23      51     253      23      45     198 June      dem      
##  7  1947      23      51     253      23      45     198 July      dem      
##  8  1947      23      51     253      23      45     198 August    dem      
##  9  1947      23      51     253      23      45     198 September dem      
## 10  1947      23      51     253      23      45     198 October   dem      
## # ℹ 812 more rows
```

**STEP 2: Clean dataset snp.csv**

Directions: Use a similar process to the above. For consistency across
datasets, arrange according to `year` and `month`, and organize so that
`year` and `month` are the leading columns.

``` r
snp <- 
  read_csv("./fivethirtyeight_datasets/snp.csv") %>%
  separate(date, into = c("month", "day", "year"), sep = "/", convert = TRUE) %>%
  arrange(year, month) %>%
  mutate("month" = month.name[month]) %>%
  select(year, month, close) 
snp
## # A tibble: 787 × 3
##     year month     close
##    <int> <chr>     <dbl>
##  1     0 January   1394.
##  2     0 February  1366.
##  3     0 March     1499.
##  4     0 April     1452.
##  5     0 May       1421.
##  6     0 June      1455.
##  7     0 July      1431.
##  8     0 August    1518.
##  9     0 September 1437.
## 10     0 October   1429.
## # ℹ 777 more rows
```

**STEP 3: Tidy dataset unemployment.csv**

Directions: Tidy the unemployment data so that it can be merged with the
previous datasets. This process will involve switching from *“wide”* to
*“long”* format; ensuring that key variables have the same name; and
ensuring that key variables take the same values.

``` r
unemployment <- 
  read_csv("./fivethirtyeight_datasets/unemployment.csv") %>%
  pivot_longer(Jan:Dec, names_to = "month_abb", values_to = "unemployment") %>%
  mutate("month" = factor(month_abb, levels = month.abb, labels = month.name)) %>%
  rename(year = Year) %>%
  select(year, month, unemployment)
unemployment
## # A tibble: 816 × 3
##     year month     unemployment
##    <dbl> <fct>            <dbl>
##  1  1948 January            3.4
##  2  1948 February           3.8
##  3  1948 March              4  
##  4  1948 April              3.9
##  5  1948 May                3.5
##  6  1948 June               3.6
##  7  1948 July               3.6
##  8  1948 August             3.9
##  9  1948 September          3.8
## 10  1948 October            3.7
## # ℹ 806 more rows
```
